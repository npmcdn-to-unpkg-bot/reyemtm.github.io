---
layout: slides
title: "Jekyll, Leaflet &amp; Turf"
subtitle: "Open Source Tools for Web Mapping <br /> A Presentation to the 2016 Northeast Ohio GIS Symposium"
date: 2016-08-02
description: Using the power of open source through Jekyll, Leaflet and TurfJS for web mapping. A Presentation to the 2016 Northeast Ohio GIS Symposium.
theme: blood
category: slides
permalink: /slides/:title/
tags: ["jekyll", "leaflet", "slides"]
style: ".reveal h1{font-size:4.9em;text-shadow:none;} .reveal h2{font-size:3.3em;}"
---
<section data-markdown data-separator="---">
<script type="text/template">
# [Jekyll](https://jekyllrb.com), [Leaflet](http://leafletjs.com) &amp; [Turf](http://turfjs.com)

{{ page.subtitle }}
---
##Location
##**Information** <!-- .element: class="fragment" -->
---
#Maps tell a **Story**
---
###HUD Low to Moderate Income (%)
<p data-height="850" data-theme-id="dark" data-slug-hash="kXzAZq" data-default-tab="result" data-user="getbounds" data-embed-version="2" class="codepen"></p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>
</script>
</section>

<section>
<h3>Fullscreen Leaflet Map</h3>

<pre><code data-trim>

&lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
      &lt;meta charset=&quot;utf-8&quot; /&gt;
      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, user-scalable=no&quot;&gt;
      &lt;link rel=&quot;stylesheet&quot; href=&quot;/assets/leaflet.css&quot; /&gt;
      &lt;script src=&quot;/assets/leaflet.js&quot;&gt;&lt;/script&gt;
      &lt;style&gt;
      #map {position:absolute;top:0;bottom:0;left:0;width:100%;}
      &lt;/style&gt;
    &lt;/head&gt;
  &lt;body&gt;
    &lt;div id='map'&gt;&lt;/div&gt;
    &lt;script src=&quot;map.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;

</code></pre>
<pre><code data-trim>
var map = new L.Map('map');
map.setView([41.5, -81.7], 10)

var layerControl = new L.control.layers().addTo(map);

var scale = L.control.scale().addTo(map);
</code></pre>
</section>

<section>
  <h3>We Forgot the <strong>Map</strong>!</h3>
  <p data-height="850" data-theme-id="dark" data-slug-hash="VjqxWN" data-default-tab="result" data-user="getbounds" data-embed-version="2" class="codepen"></p>
  <script async src="//assets.codepen.io/assets/embed/ei.js"></script>
</section>

<section>
<h3>Adding Basemaps</h3>
<h4><a href="https://leaflet-extras.github.io/leaflet-providers/preview/" target="_blank">Leaflet Providers</a></h4>

<pre><code data-trim>
var fire = L.tileLayer('https://{s}.tile.thunderforest.com/spinal-map/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
});

var basemaps = {
  "<strong style='color:red;'>Fire</strong>": fire,
};

var layerControl = new L.control.layers(basemaps).addTo(map);
</code></pre>

</section>

<section>
<h3>Adding Layers</h3>
<h4>Simplification &amp; Topojson via <a href="http://www.mapshaper.org" target="_blank">Mapshaper</a></h4>
<pre><code data-trim>
var blockGroups = L.geoJson(null, {
  onEachFeature: function(feature, layer) {
    lmi = layer.feature.properties.lowmodpct * 100;
    layer.bindPopup('LMI: ' + lmi + '%');
  }
});

var data = omnivore.topojson('/assets/blockgroups.json', null, blockGroups);
</code></pre>
</section>

<section>
  <h2>What about those pretty <strong>colors</strong>?</h2>
</section>

<section>
  <h3>Choropleth Made Simple</h3></h3>
  <h4><a href="https://github.com/timwis/leaflet-choropleth" target="_blank">Choropleth Plugin</a></h4>
  <p>
    Original GeoJSON: 3.7mb vs. Simplified Topojson: 324kb
  </p>
<pre><code data-trim>
var choropleth = L.choropleth(data.toGeoJSON(), {
    valueProperty: 'lowmodpct',
    scale: ['white', 'orange', 'red'],
    steps: 7,
    mode: 'q',
    style: {
        color: '#fff', // border color
        weight: 2,
        fillOpacity: 0.8
    },
    onEachFeature: function(feature, layer) {
      lmi = layer.feature.properties.lowmodpct * 100;
      layer.bindPopup('LMI: ' + lmi + '%')
    }
}).addTo(map)
</code></pre>

</section>

<section>
  <h3>Analysis with Turf</h3>
  <h4><a href="http://turfjs.org/docs/" target="_blank">Turf Documentation</a></h4>
</section>

<section>
  <h3>Jekyll Intro 01 - Layouts</h3>
</section>

<section data-markdown>
<script type="text/template">
  ### Thanks!

  **Malcolm Meyer**, Transportation Planning Coordinator

  [Ohio Valley Regional Development Commission](http://www.ovrdc.org)
  <br><br>
  ##### Awesome Examples
  [Bushwick Community Map](http://clhenrick.github.io/BushwickCommunityMap/#) /
  [Census Reporter](http://censusreporter.org/profiles/05000US39131-pike-county-oh/) /
  [In Flight](http://www.theguardian.com/world/ng-interactive/2014/aviation-100-years) /
  [Into The Okavango](http://intotheokavango.org/) /
  [Jamaican Slave Revolt](http://revolt.axismaps.com/map/) /
  [Landrover Stories](http://wellstoried.com) /
  [Second City Zoning](http://secondcityzoning.org/) /
  [Welcome to Vienna](http://www.wien.info/en/search?address=oper&geo_search=)
  <br><br>
  ##### Resources
  [Leaflet](http://leafletjs.com) /
  [CartoDB](https://cartodb.com) /
  [Mapbox](https://www.mapbox.com) /
  [MapCentia](http://www.mapcentia.com/) /
  [Story Maps](https://storymap.knightlab.com) /
  [Tutorial](http://maptimeboston.github.io/leaflet-intro/) /
  [uMap](http://umap.openstreetmap.fr/en/)
</script>
</section>
